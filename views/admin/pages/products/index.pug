extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug

block main 
    h1 Product Management Page

    .card.mb-3 
        .card-header Filter and Search
        .card-body 
            .row 
                .col-6
                    +filter-status(filterStatus)
                
                .col-6 
                    +search(keyword)

    .card.mb-3 
            .card-header Product List
            .card-body
                table.table.table-hover.table-sm 
                    thead 
                        tr 
                            th NO 
                            th Image 
                            th Title 
                            th Price
                            th Status 
                            th Action 

                    tbody 
                        each item, index in products 
                            tr 
                                td #{index + 1}
                                td 
                                    img(src=item.thumbnail, 
                                        alt=item.title, 
                                        width="100px",
                                        height="auto"
                                    )
                                td #{item.title}
                                td #{item.price}$
                                td 
                                    if(item.status === "active")
                                        a(href="#" class="badge badge-success") Active
                                    else 
                                        a(href="#" class="badge badge-danger") Inactive
                                td 
                                    button(class="btn btn-warning btn-sm") Edit
                                    button(class="btn btn-danger btn-sm ml-1") Delete

    nav 
        ul(class="pagination") 
            if(pagination.currentPage > 1)
                li(class="page-item") 
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage - 1 
                    ) Prev
            -for(let i = pagination.currentPage - 1; i < pagination.currentPage + 2; i++)
                if(i > 0 && i <= pagination.totalPages)
                    li(class=`page-item ${pagination.currentPage === i ? 'active' : ''}`)
                        button(
                            class="page-link"
                            button-pagination=i 
                        ) #{i}
            if(pagination.currentPage < pagination.totalPages)
                li(class="page-item")
                    button(
                        class="page-link"
                        button-pagination=pagination.currentPage + 1
                    ) Next